{"version":3,"sources":["store.tsx","hooks/useOnKeyGoTo.tsx","hooks/useOnKeyDown.tsx","App.tsx","utils.tsx","components/FootLinks.tsx","components/Md.tsx","components/Intro.tsx","components/Article.tsx","components/Navigation.tsx","components/IndexPage.tsx","index.tsx"],"names":["FootNoteType","useOnKeyGoTo","key","to","fallback","history","useHistory","callback","useEffect","f","ev","document","addEventListener","removeEventListener","useOnKeyDown","useCallback","push","Paths","formatedArticles","articles","map","title","chapter","props","names_data","names","i","name","chapters","footnotes","indexData","data","text","Array","from","group","d","items","flat","filter","o","typ","Chapter","ArticleName","Set","sort","ref","formatIndexData","useStore","create","set","get","intro","getNArticles","length","getArticle","getArticleLink","getPrevLink","getNextLink","getFirstLink","getLastLink","mdFormatFootnotes","join","FootLinks","prevLink","nextLink","prevText","nextText","className","CustomA","children","href","startsWith","Md","md","options","overrides","a","footer","ArticleMd","selector","state","selectFirstLink","selectLastLink","Intro","mdFormatIntro","firstLink","firstArticle","lastLink","lastArticle","Article","id","useParams","article","prevArticle","nextArticle","out","allFootnotes","concat","mdFormatArticle","home","index","Navigation","SelectLastLink","selectGetArticleLink","IndexPage","location","useLocation","searchParams","useMemo","URLSearchParams","search","searchTitle","searchChapter","j","AppContent","exact","path","App","basename","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ebeb558d.chunk.js","sourcesContent":["import create from \"zustand\";\nimport names from \"./data/names.json\";\nimport intro from \"./data/intro.json\";\nimport articles from \"./data/articles.json\";\nimport { Paths } from \"./App\";\n// import end_sections from \"./data/end_sections.json\";\nimport { group } from \"d3\";\n\nexport enum FootNoteType {\n  Intro = \"intro\",\n  ArticleName = \"article_name\",\n  ArticleText = \"article_text\",\n  EndSection = \"end_section\",\n  Chapter = \"chapter\",\n}\nexport interface FootNote {\n  ref: number;\n  text: string;\n  typ: string;\n}\n\nexport interface FootNotes {\n  footnotes: FootNote[];\n}\n\nexport interface DataItemIntro extends FootNotes {\n  title: string;\n  text: string;\n}\n\ninterface NameInfo {\n  i: number;\n  name: string;\n}\n\ninterface ChapterInfo extends NameInfo, FootNotes {}\n\nexport interface DataItemArticle extends FootNotes {\n  title: NameInfo;\n  chapter: ChapterInfo | null;\n  article: number;\n  name: string | null;\n  text: string;\n}\n\nexport interface DataItemIndex {\n  title: string;\n  chapters: {\n    chapter: string | undefined;\n    articles: Omit<DataItemArticle, \"title\" | \"chapter\" | \"text\">[];\n    i: number;\n  }[];\n  i: number;\n}\n\nexport type State = {\n  intro: DataItemIntro;\n  articles: DataItemArticle[];\n  indexData: { indexData: DataItemIndex[] } & FootNotes;\n  getNArticles: () => number;\n  getArticle: (i: number) => DataItemArticle | undefined;\n  getArticleLink: (i: number | null) => string | null;\n  getFirstLink: () => [string | null, number];\n  getLastLink: () => [string | null, number];\n  getPrevLink: (i: number | null) => [string | null, number | null];\n  getNextLink: (i: number | null) => [string | null, number | null];\n};\n\nconst formatArticles: (data: typeof articles) => DataItemArticle[] = (data) => {\n  return data.map(({ title, chapter, ...props }) => {\n    const names_data = names[title - 1];\n\n    return {\n      title: { i: title, name: names_data.name },\n      chapter: chapter\n        ? {\n            i: chapter,\n            name: names_data.chapters[chapter - 1].name,\n            footnotes: names_data.chapters[chapter - 1].footnotes,\n          }\n        : null,\n      ...props,\n    };\n  });\n};\n\nconst formatIndexData: (\n  data: DataItemArticle[]\n) => { indexData: DataItemIndex[] } & FootNotes = (articles) => {\n  const data = articles.map(({ text, ...props }) => props);\n  const indexData = Array.from(\n    group(data, (d) => d.title.name),\n    ([title, items], i) => {\n      const chapters = Array.from(\n        group(\n          items.map(({ title, ...props }) => props),\n          (d) => d.chapter?.name\n        ),\n        ([chapter, items], i) => {\n          const articles = items.map(({ chapter, ...props }) => props);\n          return { chapter, articles, i: i + 1 };\n        }\n      );\n      return { title, chapters, i: i + 1 };\n    }\n  );\n  const footnotes = data\n    .map(({ footnotes, chapter }) =>\n      [footnotes, chapter ? chapter.footnotes : []].flat()\n    )\n    .flat()\n    .filter(\n      (o) =>\n        o.typ === FootNoteType.Chapter || o.typ === FootNoteType.ArticleName\n    );\n  const uniqueFootnotes = [...new Set(footnotes)].sort((o) => o.ref);\n\n  return { indexData, footnotes: uniqueFootnotes };\n};\n\nfunction fNull<T, U>(f: (props: T) => U) {\n  return (props: T | null) => (props === null ? null : f(props));\n}\n\nconst formatedArticles = formatArticles(articles);\nconst indexData = formatIndexData(formatedArticles);\n\nexport const useStore = create<State>((set, get) => ({\n  intro,\n  articles: formatedArticles,\n  indexData: indexData,\n  getNArticles: () => get().articles.length,\n  getArticle: (i) => get().articles[i - 1],\n  getArticleLink: fNull((i) =>\n    i > 0 && i <= get().getNArticles() ? `${Paths.articles}/${i}` : null\n  ),\n  getPrevLink: (i) => {\n    return i === null ? [null, null] : [get().getArticleLink(i - 1), i - 1];\n  },\n  getNextLink: (i) => {\n    return i === null ? [null, null] : [get().getArticleLink(i + 1), i + 1];\n  },\n  getFirstLink: () => [get().getArticleLink(1), 1],\n  getLastLink: () => {\n    const i = get().getNArticles();\n    return [get().getArticleLink(i), i];\n  },\n}));\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useOnKeyDown } from \"./useOnKeyDown\";\n\ninterface Props {\n  key: string;\n  to: string | null;\n  fallback?: string | null;\n}\n\nexport const useOnKeyGoTo: (props: Props) => void = ({\n  key,\n  to,\n  fallback = null,\n}) => {\n  const history = useHistory();\n  const callback = useCallback(() => {\n    if (to) history.push(to);\n    else if (fallback) history.push(fallback);\n  }, [history, to, fallback]);\n\n  useOnKeyDown({ key, callback });\n};\n","import { useEffect } from \"react\";\n\ninterface Props {\n  key: string;\n  callback: () => void;\n}\n\nexport const useOnKeyDown: (props: Props) => void = ({ key, callback }) => {\n  useEffect(() => {\n    const f = (ev: { key: string }) => {\n      if (ev.key === key) callback();\n    };\n\n    document.addEventListener(\"keydown\", f);\n    return () => void document.removeEventListener(\"keydown\", f);\n  }, [key, callback]);\n};\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { Intro } from \"./components/Intro\";\nimport { Article } from \"./components/Article\";\nimport { Navigation } from \"./components/Navigation\";\nimport { IndexPage } from \"./components/IndexPage\";\n\nexport enum Paths {\n  home = \"/\",\n  index = \"/indice\",\n  articles = \"/articulos\",\n  article = \"/articulos/:id\",\n}\n\nexport const AppContent: React.FC = () => {\n  return (\n    <div className=\"container md:max-w-screen-md mx-auto px-2\">\n      <Navigation />\n      <div className=\"mt-4\">\n        <Switch>\n          <Route exact path={Paths.home}>\n            <Intro />\n          </Route>\n          <Route exact path={Paths.index}>\n            <IndexPage />\n          </Route>\n          <Route path={Paths.article}>\n            <Article />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport const App: React.FC = () => (\n  <HashRouter basename=\"/\">\n    <AppContent />\n  </HashRouter>\n);\n","import { DataItemArticle, DataItemIntro, FootNote } from \"./store\";\n\nexport const mdFormatFootnotes = (footnotes: FootNote[]) =>\n  footnotes.map(({ ref, text }) => `[^${ref}]: *${text}*`).join(\"\\n\\n\");\n\nexport const mdFormatIntro = ({ title, text, footnotes }: DataItemIntro) => {\n  let out = [`# ${title}`, text, mdFormatFootnotes(footnotes)];\n  return out.join(\"\\n\\n\");\n};\n\nexport const mdFormatArticle = ({\n  title,\n  chapter,\n  article,\n  name,\n  text,\n  footnotes,\n}: DataItemArticle) => {\n  let out = [`#### Título ${title.i}: ${title.name}`];\n  if (chapter !== null) {\n    out.push(`#### Capítulo ${chapter?.i}: ${chapter?.name}`);\n  }\n\n  const chapterFootnotes = chapter?.footnotes ?? [];\n  const allFootnotes = chapterFootnotes.concat(footnotes);\n\n  out.push(\n    ...[\n      `## Artículo ${article}${name ? \": \" + name : \"\"}`,\n      text,\n      mdFormatFootnotes(allFootnotes),\n    ]\n  );\n\n  return out.join(\"\\n\\n\");\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\ninterface Props {\n  prevLink: string | null;\n  nextLink: string | null;\n  prevText: string | null;\n  nextText: string | null;\n}\n\nexport const FootLinks: React.FC<Props> = ({\n  prevLink,\n  nextLink,\n  prevText,\n  nextText,\n}) => {\n  return (\n    <div className=\"prose mt-4 flex justify-between\">\n      <div>{prevLink && <Link to={prevLink}>{prevText}</Link>}</div>\n      <div>{nextLink && <Link to={nextLink}>{nextText}</Link>}</div>\n    </div>\n  );\n};\n","import React, { HTMLProps } from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst CustomA: React.FC<HTMLProps<HTMLAnchorElement>> = ({\n  children,\n  href,\n  ...props\n}) =>\n  href?.startsWith(\"#\") ? (\n    <>{children}</>\n  ) : (\n    <a href={href} {...props}>\n      {children}\n    </a>\n  );\n\ninterface MdProps {\n  md: string;\n}\n\nexport const Md: React.FC<MdProps> = ({ md }) => (\n  <Markdown\n    options={{\n      overrides: {\n        a: CustomA,\n        footer: {\n          props: {\n            className:\n              \"text-sm text-gray-600 border-gray-300 border-t pt-1 px-1\",\n          },\n        },\n      },\n    }}\n  >\n    {md}\n  </Markdown>\n);\n\nexport const ArticleMd: React.FC<MdProps> = ({ md }) => (\n  <article className=\"prose prose-blue\">\n    <Md md={md} />\n  </article>\n);\n","import React from \"react\";\nimport { useOnKeyGoTo } from \"../hooks/useOnKeyGoTo\";\nimport { useStore, State } from \"../store\";\nimport { mdFormatIntro } from \"../utils\";\nimport { FootLinks } from \"./FootLinks\";\nimport { ArticleMd } from \"./Md\";\n\nconst selector = (state: State) => state.intro;\nconst selectFirstLink = (state: State) => state.getFirstLink();\nconst selectLastLink = (state: State) => state.getLastLink();\n\n\nexport const Intro: React.FC = () => {\n  const data = useStore(selector);\n  const md = mdFormatIntro(data);\n  const [firstLink, firstArticle] = useStore(selectFirstLink);\n  const [lastLink, lastArticle] = useStore(selectLastLink);\n  useOnKeyGoTo({ key: \"ArrowLeft\", to: lastLink });\n  useOnKeyGoTo({ key: \"ArrowRight\", to: firstLink });\n\n  return (\n    <div>\n      <ArticleMd md={md} />\n      <FootLinks\n        prevLink={firstLink}\n        prevText={`←Artículo ${lastArticle}`}\n        nextLink={lastLink}\n        nextText={`Artículo ${firstArticle}→`}\n      />\n    </div>\n  );\n};\n","import React, { useCallback } from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport { Paths } from \"../App\";\nimport { useOnKeyGoTo } from \"../hooks/useOnKeyGoTo\";\nimport { useStore } from \"../store\";\nimport { mdFormatArticle } from \"../utils\";\nimport { FootLinks } from \"./FootLinks\";\nimport { ArticleMd } from \"./Md\";\n\nexport const Article: React.FC = () => {\n  const { id: idParam } = useParams<{ id: string }>();\n  const id = +idParam;\n  const article = useStore(useCallback((state) => state.getArticle(id), [id]));\n  const [prevLink, prevArticle] = useStore(\n    useCallback((state) => state.getPrevLink(id), [id])\n  );\n  const [nextLink, nextArticle] = useStore(\n    useCallback((state) => state.getNextLink(id), [id])\n  );\n  const md = article ? mdFormatArticle(article) : null;\n\n  useOnKeyGoTo({ key: \"ArrowLeft\", to: prevLink, fallback: Paths.home });\n  useOnKeyGoTo({ key: \"ArrowRight\", to: nextLink, fallback: Paths.home });\n\n  return md ? (\n    <div>\n      <ArticleMd md={md} />\n      <FootLinks\n        prevLink={prevLink}\n        prevText={`←Artículo ${prevArticle}`}\n        nextLink={nextLink}\n        nextText={`Artículo ${nextArticle}→`}\n      />\n    </div>\n  ) : (\n    <Redirect to={Paths.index} />\n  );\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Paths } from \"../App\";\n\nexport const Navigation: React.FC = () => (\n  <div className=\"flex space-x-4\">\n    <NavLink to={Paths.home}>Inicio</NavLink>\n    <NavLink to={Paths.index}>Indice</NavLink>\n  </div>\n);\n","import React, { useMemo } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Paths } from \"../App\";\nimport { useOnKeyGoTo } from \"../hooks/useOnKeyGoTo\";\nimport { State, useStore } from \"../store\";\nimport { mdFormatFootnotes } from \"../utils\";\nimport { Md } from \"./Md\";\n\nconst selector = (state: State) => state.indexData;\nconst selectFirstLink = (state: State) => state.getFirstLink();\nconst SelectLastLink = (state: State) => state.getLastLink();\nconst selectGetArticleLink = (state: State) => state.getArticleLink;\n\nexport const IndexPage: React.FC = () => {\n  const location = useLocation();\n  const searchParams = useMemo(() => new URLSearchParams(location.search), [\n    location.search,\n  ]);\n  const { indexData, footnotes } = useStore(selector);\n  const [firstLink] = useStore(selectFirstLink);\n  const [lastLink] = useStore(SelectLastLink);\n  const getArticleLink = useStore(selectGetArticleLink);\n  useOnKeyGoTo({ key: \"ArrowLeft\", to: lastLink });\n  useOnKeyGoTo({ key: \"ArrowRight\", to: firstLink });\n  const searchTitle = searchParams.get(\"titulo\");\n  const searchChapter = searchParams.get(\"capitulo\");\n\n  return (\n    <div className=\"prose prose-blue\">\n      <h1>Indice</h1>\n      {indexData\n        .filter(({ i }) => (searchTitle ? i === +searchTitle : true))\n        .map(({ title, chapters, i }) => (\n          <div key={i}>\n            <Link to={`${Paths.index}?titulo=${i}`}>\n              <Md md={`## Título ${i}: ${title}`} />\n            </Link>\n            {chapters\n              .filter(({ i }) => (searchChapter ? i === +searchChapter : true))\n              .map(({ chapter, articles, i: j }) => (\n                <div key={`${i}-${j}`}>\n                  {chapter && (\n                    <Link to={`${Paths.index}?titulo=${i}&capitulo=${j}`}>\n                      <Md md={`### Capítulo ${j}: ${chapter}`} />\n                    </Link>\n                  )}\n                  {articles.map(({ article, name }) => (\n                    <Link key={article} to={\"\" + getArticleLink(article)}>\n                      <Md\n                        md={`#### Artículo ${article} ${\n                          name ? `: ${name}` : \"\"\n                        }`}\n                      />\n                    </Link>\n                  ))}\n                </div>\n              ))}\n          </div>\n        ))}\n      <div className=\"mt-12\">\n        <Md md={mdFormatFootnotes(footnotes)} />\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}