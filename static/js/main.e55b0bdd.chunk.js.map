{"version":3,"sources":["App.tsx","components/Articles.tsx","store.tsx","components/Md.tsx","components/Intro.tsx","utils.tsx","components/Article.tsx","components/Navigation.tsx","index.tsx"],"names":["Paths","Articles","n","Array","fill","map","_","i","to","articles","useStore","create","set","get","intro","data","title","chapter","props","names_data","names","name","chapters","footnotes","nArticles","length","getArticle","CustomA","children","href","startsWith","Md","md","className","options","overrides","a","footer","selector","state","Intro","text","ref","join","mdFormatIntro","nArticlesSelector","Article","id","useParams","article","useCallback","prevArticle","nextArticle","out","push","allFootnotes","concat","mdFormatArticle","Navigation","home","AppContent","exact","path","App","basename","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e55b0bdd.chunk.js","sourcesContent":["import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport { Articles } from \"./components/Articles\";\nimport { Intro } from \"./components/Intro\";\nimport { Article } from \"./components/Article\";\nimport articles from \"./data/articles.json\";\nimport { Navigation } from \"./components/Navigation\";\n\nexport enum Paths {\n  home = \"/\",\n  articles = \"/articulos\",\n  article = \"/articulos/:id\",\n}\n\nexport const AppContent: React.FC = () => {\n  return (\n    <div className=\"container md:max-w-screen-md mx-auto px-2\">\n      <Navigation />\n      <div className=\"mt-4\">\n        <Switch>\n          <Route exact path={Paths.home}>\n            <Intro />\n          </Route>\n          <Route exact path={Paths.articles}>\n            <Articles n={articles.length} />\n          </Route>\n          <Route path={Paths.article}>\n            <Article />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport const App: React.FC = () => (\n  <HashRouter basename=\"/\">\n    <AppContent />\n  </HashRouter>\n);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Paths } from \"../App\";\n\ninterface ArticlesProps {\n  n: number;\n}\n\nexport const Articles: React.FC<ArticlesProps> = ({ n }) => (\n  <div>\n    some articles will be here\n    {Array(n)\n      .fill(0)\n      .map((_, i) => (\n        <div key={i}>\n          <Link to={`${Paths.articles}/${i+1}`}>Art {i+1}</Link>\n        </div>\n      ))}\n  </div>\n);\n","import create from \"zustand\";\nimport names from \"./data/names.json\";\nimport intro from \"./data/intro.json\";\nimport articles from \"./data/articles.json\";\n// import end_sections from \"./data/end_sections.json\";\n\ninterface FootNotes {\n  footnotes: { ref: number; text: string }[];\n}\n\nexport interface DataItemIntro extends FootNotes {\n  title: string;\n  text: string;\n}\n\ninterface NameInfo {\n  i: number;\n  name: string;\n}\n\ninterface ChapterInfo extends NameInfo, FootNotes {\n}\n\nexport interface DataItemArticle extends FootNotes {\n  title: NameInfo;\n  chapter: ChapterInfo | null;\n  article: number;\n  name: string | null;\n  text: string;\n}\n\nexport type State = {\n  intro: DataItemIntro;\n  articles: DataItemArticle[];\n  nArticles: () => number;\n  getArticle: (i: number) => DataItemArticle;\n};\n\nconst formatArticles: (data: typeof articles) => DataItemArticle[] = (data) => {\n  return data.map(({ title, chapter, ...props }) => {\n    const names_data = names[title - 1];\n\n    return {\n      title: { i: title, name: names_data.name },\n      chapter: chapter\n        ? {\n            i: chapter,\n            name: names_data.chapters[chapter - 1].name,\n            footnotes: names_data.chapters[chapter - 1].footnotes,\n          }\n        : null,\n      ...props,\n    };\n  });\n};\n\nexport const useStore = create<State>((set, get) => ({\n  intro,\n  articles: formatArticles(articles),\n  nArticles: () => get().articles.length,\n  getArticle: (i) => get().articles[i - 1],\n}));\n","import React, { HTMLProps } from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst CustomA: React.FC<HTMLProps<HTMLAnchorElement>> = ({\n  children,\n  href,\n  ...props\n}) =>\n  href?.startsWith(\"#\") ? (\n    <>{children}</>\n  ) : (\n    <a href={href} {...props}>\n      {children}\n    </a>\n  );\n\ninterface MdProps {\n  md: string;\n}\n\nexport const Md: React.FC<MdProps> = ({ md }) => (\n  <article className=\"prose prose-blue\">\n    <Markdown\n      options={{\n        overrides: {\n          a: CustomA,\n          footer: { props: { className: \"text-sm text-gray-600 border-gray-300 border-t pt-1 px-1\" } },\n        },\n      }}\n    >\n      {md}\n    </Markdown>\n  </article>\n);\n","import React from \"react\";\nimport { useStore, State } from \"../store\";\nimport { mdFormatIntro } from \"../utils\";\nimport { Md } from \"./Md\";\n\nconst selector = ( state: State ) => state.intro;\n\nexport const Intro: React.FC = () => {\n  const data = useStore(selector);\n  const md = mdFormatIntro(data);\n\n  return (\n    <div>\n      <Md md={md} />\n    </div>\n  );\n};\n","import { DataItemArticle, DataItemIntro } from \"./store\";\n\nexport const mdFormatIntro = ({ title, text, footnotes }: DataItemIntro) => {\n  let out = [\n    `# ${title}`,\n    text,\n    ...footnotes.map(({ ref, text }) => `[^${ref}]: *${text}*`),\n  ];\n  return out.join(\"\\n\\n\");\n};\n\nexport const mdFormatArticle = ({\n  title,\n  chapter,\n  article,\n  name,\n  text,\n  footnotes,\n}: DataItemArticle) => {\n  let out = [`#### Título ${title.i}: ${title.name}`];\n  if (chapter !== null) {\n    out.push(`#### Capítulo ${chapter?.i}: ${chapter?.name}`);\n  }\n\n  const chapterFootnotes = chapter?.footnotes ?? [];\n  const allFootnotes = chapterFootnotes.concat(footnotes);\n\n  out.push(\n    ...[\n      `## Artículo ${article}${name ? \": \" + name : \"\"}`,\n      text,\n      ...allFootnotes.map(({ ref, text }) => `[^${ref}]: *${text}*`),\n    ]\n  );\n\n  return out.join(\"\\n\\n\");\n};\n","import React, { useCallback } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Paths } from \"../App\";\nimport { useStore, State } from \"../store\";\nimport { mdFormatArticle } from \"../utils\";\nimport { Md } from \"./Md\";\n\nconst nArticlesSelector = (state: State) => state.nArticles();\n\nexport const Article: React.FC = () => {\n  const { id: idParam } = useParams<{ id: string }>();\n  const id = +idParam;\n  const article = useStore(useCallback((state) => state.getArticle(id), [id]));\n  const nArticles = useStore(nArticlesSelector);\n  const prevArticle = id > 1 ? id - 1 : null;\n  const nextArticle = id < nArticles ? id + 1 : null;\n  const md = mdFormatArticle(article);\n\n  return (\n    <div>\n      <Md md={md} />\n      <div className=\"max-w-prose mt-4 flex justify-between\">\n        <div>\n          {prevArticle && (\n            <Link\n              className=\"justify-self-end\"\n              to={`${Paths.articles}/${prevArticle}`}\n            >{`←Artículo ${prevArticle}`}</Link>\n          )}\n        </div>\n        <div>\n          {nextArticle && (\n            <Link\n              className=\"justify-self-end\"\n              to={`${Paths.articles}/${nextArticle}`}\n            >{`Artículo ${nextArticle}→`}</Link>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Paths } from \"../App\";\n\nexport const Navigation: React.FC = () => (\n  <div className=\"flex space-x-4\">\n    <NavLink to={Paths.home}>Inicio</NavLink>\n    <NavLink to={Paths.articles}>Artículos</NavLink>\n  </div>\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}